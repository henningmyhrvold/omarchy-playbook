---
# Tmux Role - Self-contained
# Installs Tmux with TPM (Tmux Plugin Manager)

tmux_user: "{{ target_user | default(ansible_facts['user_id']) }}"
tmux_home: "/home/{{ tmux_user }}"

# =============================================================================
# Package Installation
# =============================================================================
tmux_pacman_packages:
  - tmux

# =============================================================================
# Directories to Create
# =============================================================================
tmux_folders:
  - "{{ tmux_home }}/.config/tmux"
  - "{{ tmux_home }}/.config/tmux-sessionizer"
  - "{{ tmux_home }}/.tmux/plugins"
  - "{{ tmux_home }}/.local/bin"

# =============================================================================
# TPM (Tmux Plugin Manager)
# =============================================================================
tmux_tpm_repo: "https://github.com/tmux-plugins/tpm.git"
tmux_tpm_dest: "{{ tmux_home }}/.tmux/plugins/tpm"

# =============================================================================
# Dotfiles
# =============================================================================
tmux_dotfiles_repo: "{{ dotfiles_repo | default('https://github.com/henningmyhrvold/omarchy-dotfiles.git') }}"
tmux_dotfiles_dest: "{{ tmux_home }}/src/omarchy-dotfiles"

tmux_links:
  - { src: "tmux/tmux.conf", dest: ".config/tmux/tmux.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.conf", dest: ".config/tmux-sessionizer/tmux-sessionizer.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.sh", dest: ".local/bin/tmux-sessionizer.sh" }
  - { src: "tmux-sessionizer/tmux-status-color.sh", dest: ".local/bin/tmux-status-color.sh" }

# Scripts that need execute permissions
tmux_executables:
  - "{{ tmux_home }}/.local/bin/tmux-sessionizer.sh"
  - "{{ tmux_home }}/.local/bin/tmux-status-color.sh"
