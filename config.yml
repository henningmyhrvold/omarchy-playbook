---
# Omarchy Workstation Configuration
#
# This config layers on top of Omarchy's defaults.
# Omarchy owns: Hyprland, Waybar, Walker, Mako, Neovim, fonts, audio, SDDM, Ghostty theming
# Ansible owns: packages, system services, Docker, MCP, security hardening, dotfile symlinks

# =============================================================================
# User Configuration
# =============================================================================
target_user: henning
dotfiles_home: "/home/{{ target_user }}"

# =============================================================================
# Feature Toggles
# =============================================================================
configure_dotfiles: true
configure_extras: true
configure_repos: true

# MCP Feature Toggles
mcp_filesystem_enabled: true
mcp_ref_enabled: true

# =============================================================================
# Dotfiles Repository (used by multiple roles)
# =============================================================================
dotfiles_repo: "https://github.com/henningmyhrvold/omarchy-dotfiles.git"
dotfiles_repo_version: "main"
dotfiles_repo_accept_hostkey: true
dotfiles_repo_local_destination: "{{ dotfiles_home }}/src/omarchy-dotfiles"

downloads: "{{ dotfiles_home }}/.ansible-downloads"

git_repositories:
  - "{{ dotfiles_repo }}"

# External repositories (optional - for third-party tools)
git_repositories_external: []

# =============================================================================
# Additional Pacman Packages (not handled by self-contained roles)
# Packages already provided by Omarchy have been removed:
#   fzf, fd, bat, ripgrep, htop, unzip, curl, fastfetch, jq
# =============================================================================
pacman_installed_packages:
  # --- Themes ---
  - adw-gtk-theme
  # --- Additional CLI Tools ---
  - wget
  - jq
  - tree
  - lsof
  - smartmontools
  - rsync
  - fwupd
  - pacman-contrib
  # --- Networking ---
  - openssh
  - openssl
  - nmap
  - tcpdump
  - wireshark-cli
  - wireguard-tools
  # --- Additional Programming ---
  - python-uv
  - terraform
  # --- Productivity ---
  - gedit
  - vlc
  # --- HW Development ---
  - subversion
  - bc
  - ccache
  - time
  - usbutils
  - picocom
  - minicom
  - tftp-hpa

# =============================================================================
# Additional AUR Packages (not handled by self-contained roles)
# =============================================================================
aur_installed_packages:
  - zen-browser-bin
  - google-chrome
  - lazydocker
  - omnissa-horizon-client
 ## Youtube music takes hours to install because og qt install via chrome instead
 # - qt5-webengine
 # - qtws-base
 # - youtube-music-desktop
 ## Hardware
 # - tio
 # - kermit

# =============================================================================
# Additional Folders to Create (via folders role)
# Removed: hypr, waybar, wofi, dunst, fontconfig, colors, nvim, ghostty, vim
# These are now managed by Omarchy
# =============================================================================
create_folders:
  - { path: "{{ dotfiles_home }}/Pictures" }
  - { path: "{{ dotfiles_home }}/Pictures/wallpapers" }
  - { path: "{{ dotfiles_home }}/Pictures/icons" }
  - { path: "{{ dotfiles_home }}/Documents" }
  - { path: "{{ dotfiles_home }}/Downloads" }
  - { path: "{{ dotfiles_home }}/.config/tmux" }
  - { path: "{{ dotfiles_home }}/.config/tmux-sessionizer" }
  - { path: "{{ dotfiles_home }}/.config/mcp" }
  - { path: "{{ dotfiles_home }}/.config/Claude" }
  - { path: "{{ dotfiles_home }}/.local/bin" }
  - { path: "{{ dotfiles_home }}/.zsh" }

# =============================================================================
# Additional Dotfiles Symlinks (via dotfiles role)
# =============================================================================
dotfiles_links:
  - { src: "zsh/.zshrc", dest: ".zshrc" }
  - { src: "zsh/.zsh_profile", dest: ".zsh_profile" }
  - { src: "zsh/.p10k.zsh", dest: ".p10k.zsh" }
  - { src: "tmux/tmux.conf", dest: ".config/tmux/tmux.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.conf", dest: ".config/tmux-sessionizer/tmux-sessionizer.conf" }
  - { src: "tmux-sessionizer/tmux-sessionizer.sh", dest: ".local/bin/tmux-sessionizer.sh" }
  - { src: "tmux-sessionizer/tmux-status-color.sh", dest: ".local/bin/tmux-status-color.sh" }
  - { src: "mcp/hub.json", dest: ".config/mcp/hub.json" }
  - { src: "mcp/mcphub.json", dest: ".config/mcp/mcphub.json" }
  - { src: "mcp/docker-compose.mcp.yml", dest: ".config/mcp/docker-compose.mcp.yml" }

# Files that should be marked as executable
dotfiles_files_binaries:
  - "tmux-sessionizer/tmux-sessionizer.sh"
  - "tmux-sessionizer/tmux-status-color.sh"

# =============================================================================
# DNS Configuration
# =============================================================================
dns_provider: "systemd-resolved"
dns_remove_conflicts: true
dns_configure_networkmanager: true

# =============================================================================
# Serial/HW Development
# =============================================================================
hwdev_openwrt_tooling: true

# =============================================================================
# MCP Configuration Overrides (Claude Code)
# =============================================================================
mcp_filesystem_allowed_dirs:
  - "/home/henning/src"
  - "/home/henning/projects"
  - "/home/henning/Documents"

mcp_semgrep_scan_dirs:
  - "/home/henning/src"

mcp_network_mode: "host"
mcp_enable_lingering: true
